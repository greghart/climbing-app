syntax = "proto3";

package pb;

import "bounds.proto";
import "crag.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";
import "trail.proto";


option go_package = "github.com/greghart/climbing-app/internal/pb";

message ReadCragOptions {
  repeated string includes = 1;
}

message GetCragRequest {
  int64 id = 1;
  ReadCragOptions opts = 2;
}

message GetCragResponse {
  Crag crag = 1;
}

message ListCragsRequest {
  ReadCragOptions opts = 2;
}

message ListCragsResponse {
  repeated Crag crags = 1;
}

message UpdateCragRequest {
  int64 id = 1;
  google.protobuf.FieldMask field_mask = 2;
  string name = 3;
  string description = 4;
  Trail trail = 5;
  Bounds bounds = 6;
  google.protobuf.Timestamp requested_at = 7;
}

message UpdateCragResponse {
}

service ClimbService {
  rpc GetCrag(GetCragRequest) returns (GetCragResponse);
  rpc ListCrags(ListCragsRequest) returns (ListCragsResponse);
  rpc UpdateCrag(UpdateCragRequest) returns (UpdateCragResponse);
}
